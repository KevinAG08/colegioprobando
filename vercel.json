
{
  "version": 2,
  "builds": [ 
    {
      "src": "server/index.ts",
      "use": "@vercel/node@2.0.12", 
      "config": { "includeFiles": ["prisma/schema.prisma", "prisma/client/**/*"] } 
    },
    {
      "src": "client/index.html", 
      "use": "@vercel/static-build"
    }
  ],
  "functions": {
    "server/index.ts": {
      "runtime": "nodejs18.x", 
      "memory": 1024,
      "maxDuration": 10
    }
  },
  "routes": [
    
    {
      "src": "/(.*)",
      "headers": {
        "Strict-Transport-Security": "max-age=63072000; includeSubDomains; preload"
      },
      "continue": true
    },
    
    {
      "src": "/(.*)/",
      "status": 308,
      "headers": { "Location": "$1" }
    },
    {
      "src": "/(.*)\\.html$",
      "status": 301,
      "headers": { "Location": "/$1" }
    },

    
    {
      "src": "/api/(.*)",
      "dest": "/server/index.ts",
      "methods": ["GET", "POST", "PUT", "DELETE", "PATCH", "OPTIONS"]
    },

    
    {
      "src": "/(.*)",
      "dest": "/client/$1"
    }
  ]
}